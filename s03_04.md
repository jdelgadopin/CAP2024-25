class: center, up

# CAP - Funcions _First Class_

![:scale 50%](figures/clojure_logo.png)

**Jordi Delgado**, **Gerard Escudero**,

.large[**Curs 2024-25**: <ins>Sessions 3 i 4</ins>]

![:scale 40%](figures/fib50anysUPC.png)

---

class: center, middle

# Sessió 03

---

# Funcions _First Class_

<br> <br>

_In computer science, a programming language is said to have
first-class functions if it treats functions as first-class citizens.
This means **the language supports passing functions as arguments to
other functions, returning them as the values from other functions,
and assigning them to variables or storing them in data structures**.
Some programming language theorists require **support for anonymous
functions (function literals) as well**_. 

_In languages with first-class functions, the names of functions do not
have any special status; they are treated like ordinary variables with
a function type. The term was coined by Christopher Strachey in the
context of "functions as first-class citizens" in the mid-1960s._

.tiny[[.red[Source: Wikipedia]](https://en.wikipedia.org/wiki/First-class_function)]

---

# Funcions _First Class_

Ja hem vist "_dissimuladament_" alguns exemples:

* L'expressió `(if (> x 0) + -)` retorna el valor-funció lligat al símbol `+` o al símbol `-`, depén del valor d'`x`.

* La funció `apply` requeria una funció com a paràmetre

* Igual que fem `(def s 345)` podem fer `(def quadrat (fn [x] (* x x)))`, és a dir, podem lligar funcions 
a noms per fer-les servir després: `(quadrat 7) 👉 49`

El fet de tractar les funcions com a valors qualsevol, que poden passar-se com a argument a una funcio,
que poden retornar-se com a funcions i que poden vincular-se a un nom és _fonamental_ en les tècniques associades
a la programació funcional.

Avui dia hi ha molt pocs llenguatges de programació que no donin suport a les funcions com a _first class citizens_.
Per exemple, les darreres versions de Java i de C++ han mirat d'afegir funcions de primera clase,
sense resoldre-ho satisfactòriament en comparació amb Clojure, Common Lisp, Smalltalk, Javascript, Python, etc.red[*]

.footnote[.red[*] Opinió subjectiva, que quedi clar]

---

# Funcions _First Class_

La _Clojure sequence library_ està composada, sobre tot, de funcions que requereixen funcions com a paràmetre, és
a dir, de **_funcions d'ordre superior_** (_Higher Order Functions_)

Així doncs
